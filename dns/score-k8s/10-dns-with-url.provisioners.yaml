- uri: template://default-provisioners/dns-with-url
  type: dns
  description: Outputs localhost as the hostname and the url in http on port 80
  init: |
    randomHostname: localhost
  state: |
    instanceHostname: {{ dig "instanceHostname" .Init.randomHostname .State | quote }}
  outputs: |
    host: {{ .State.instanceHostname }}
    url: http://{{ .State.instanceHostname }}:80
  expected_outputs:
    - host
    - url